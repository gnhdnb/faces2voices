(window.webpackJsonp=window.webpackJsonp||[]).push([[2,5,7],{203:function(e,t,r){var content=r(207);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(70).default)("367aecda",content,!0,{sourceMap:!1})},204:function(e,t,r){"use strict";r.r(t);r(26),r(22),r(23),r(42),r(43);var o=r(15),n=r(44);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var l={props:{id:{type:String,default:"default"}},computed:d(d({},Object(n.b)({getLoader:"GET_LOADER_BY_ID"})),{},{loader:function(){return this.getLoader(this.id)}})},f=(r(206),r(33)),component=Object(f.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.loader.hidden?e._e():o("div",{staticClass:"loader__wrapper"},[o("div",{staticClass:"loader__icon"},["loading"===e.loader.status?o("img",{attrs:{src:r(205)}}):"error"===e.loader.status?o("svg-icon",{staticClass:"rotated45 error",attrs:{name:"cross"}}):e._e()],1),e._v(" "),e.loader.message.length?o("span",{staticClass:"loader__msg"},[e._v(e._s(e.loader.message))]):e._e()])}),[],!1,null,null,null);t.default=component.exports},205:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMOSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCiAgdmlld0JveD0iMCAwIDEwMCAxMDAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDAgMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CiAgICA8cGF0aCBmaWxsPSJibGFjayIgZD0iTTczLDUwYzAtMTIuNy0xMC4zLTIzLTIzLTIzUzI3LDM3LjMsMjcsNTAgTTMwLjksNTBjMC0xMC41LDguNS0xOS4xLDE5LjEtMTkuMVM2OS4xLDM5LjUsNjkuMSw1MCI+CiAgICAgIDxhbmltYXRlVHJhbnNmb3JtIAogICAgICAgICBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIAogICAgICAgICBhdHRyaWJ1dGVUeXBlPSJYTUwiIAogICAgICAgICB0eXBlPSJyb3RhdGUiCiAgICAgICAgIGR1cj0iMXMiIAogICAgICAgICBmcm9tPSIwIDUwIDUwIgogICAgICAgICB0bz0iMzYwIDUwIDUwIiAKICAgICAgICAgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIC8+CiAgPC9wYXRoPgo8L3N2Zz4K"},206:function(e,t,r){"use strict";r(203)},207:function(e,t,r){var o=r(69)(!1);o.push([e.i,'a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}@font-face{font-family:"Verdana-Regular";font-display:swap;src:url(https://faces2voices.live/fonts/Verdana_Regular.ttf) format("truetype")}@font-face{font-family:"Verdana-Italic";font-display:swap;src:url(https://faces2voices.live/fonts/Verdana_Italic.ttf) format("truetype")}@font-face{font-family:"Verdana-Bold";font-display:swap;src:url(https://faces2voices.live/fonts/Verdana_Bold.ttf) format("truetype")}@font-face{font-family:"Verdana-Bold-Italic";font-display:swap;src:url(https://faces2voices.live/fonts/Verdana_Bold_Italic.ttf) format("truetype")}.mt-40{margin-top:40px}.mt-20{margin-top:20px}.mb-40{margin-bottom:40px}.mb-30{margin-bottom:30px}.mb-20{margin-bottom:20px}.mb-10{margin-bottom:10px}.icon{display:block;height:30px;width:30px}@-webkit-keyframes glowing{0%{background-color:#f21e2b;box-shadow:0 0 3px #f21e2b}50%{background-color:#ff3f4c;box-shadow:0 0 10px #ff3f4c}to{background-color:#f21e2b;box-shadow:0 0 3px #f21e2b}}@keyframes glowing{0%{background-color:#f21e2b;box-shadow:0 0 3px #f21e2b}50%{background-color:#ff3f4c;box-shadow:0 0 10px #ff3f4c}to{background-color:#f21e2b;box-shadow:0 0 3px #f21e2b}}.loader__wrapper{z-index:1;position:absolute;flex-flow:column;top:0;left:0;width:100%;height:100%;z-index:1000;background:#fff}.loader__icon,.loader__wrapper{display:flex;justify-content:center;align-items:center}.loader__icon{width:60px;height:60px;border-radius:50%}.loader__icon .icon{width:30px;height:30px;display:block}.loader__icon .icon.error{left:0;top:0;position:relative;margin:0}.loader__icon .icon.error,.loader__icon img{display:block;width:60px;height:60px}.loader__msg{margin-top:15px;color:#000;font-family:"Verdana-Regular"}@media (max-width:767px){.loader__msg{font-size:calc(8.86667px + .35417vw)}}@media (min-width:767px){.loader__msg{font-size:calc(10px + .20833vw)}}@media (max-width:1200px){.loader__wrapper{z-index:1;position:absolute;display:flex;flex-flow:column;justify-content:center;align-items:center;top:0;left:0;width:100%;height:100%;z-index:1000;background:#fff}.loader__icon,.loader__icon .icon.error,.loader__icon img{width:30px;height:30px}.loader__msg{margin-top:5px}}',""]),e.exports=o},209:function(e,t,r){var content=r(218);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(70).default)("12c0947e",content,!0,{sourceMap:!1})},217:function(e,t,r){"use strict";r(209)},218:function(e,t,r){var o=r(69)(!1);o.push([e.i,'a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}@font-face{font-family:"Verdana-Regular";font-display:swap;src:url(https://faces2voices.live/fonts/Verdana_Regular.ttf) format("truetype")}@font-face{font-family:"Verdana-Italic";font-display:swap;src:url(https://faces2voices.live/fonts/Verdana_Italic.ttf) format("truetype")}@font-face{font-family:"Verdana-Bold";font-display:swap;src:url(https://faces2voices.live/fonts/Verdana_Bold.ttf) format("truetype")}@font-face{font-family:"Verdana-Bold-Italic";font-display:swap;src:url(https://faces2voices.live/fonts/Verdana_Bold_Italic.ttf) format("truetype")}.mt-40{margin-top:40px}.mt-20{margin-top:20px}.mb-40{margin-bottom:40px}.mb-30{margin-bottom:30px}.mb-20{margin-bottom:20px}.mb-10{margin-bottom:10px}.icon{display:block;height:30px;width:30px}@-webkit-keyframes glowing{0%{background-color:#f21e2b;box-shadow:0 0 3px #f21e2b}50%{background-color:#ff3f4c;box-shadow:0 0 10px #ff3f4c}to{background-color:#f21e2b;box-shadow:0 0 3px #f21e2b}}@keyframes glowing{0%{background-color:#f21e2b;box-shadow:0 0 3px #f21e2b}50%{background-color:#ff3f4c;box-shadow:0 0 10px #ff3f4c}to{background-color:#f21e2b;box-shadow:0 0 3px #f21e2b}}.camera__wrapper{width:100%;max-width:623px;height:350px;border-radius:17px;-webkit-border-radius:17px;-moz-border-radius:17px;-khtml-border-radius:17px;position:relative}.camera__button,.camera__wrapper{border:1px solid #121212;overflow:hidden;display:flex;justify-content:center;align-items:center}.camera__button{width:70px;height:70px;border-radius:50%;cursor:pointer}.camera__video{width:100%;height:100%}.camera__canvas,.camera__video{border-radius:15px;-webkit-border-radius:15px;-moz-border-radius:15px;-khtml-border-radius:15px;overflow:hidden}.camera__canvas{position:absolute;top:0;left:0}#timeLeft{font-family:"Verdana-Regular";font-size:14px;line-height:22px;position:absolute;background:#fff;width:100%;height:100%;display:flex;justify-content:center;align-items:center;border-radius:15px;-webkit-border-radius:15px;-moz-border-radius:15px;-khtml-border-radius:15px}@media (max-width:767px){#timeLeft{font-size:calc(8.86667px + .35417vw)}}@media (min-width:767px){#timeLeft{font-size:calc(10px + .20833vw)}}',""]),e.exports=o},225:function(e,t,r){"use strict";r.r(t);r(26),r(22),r(23),r(42),r(43);var o=r(3),n=r(15),c=(r(38),r(12),r(34),r(35),r(235)),d=r(44);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={data:function(){return{cameraStatus:!1,dates:[],descriptors:[],timeLeft:0,sending:!1,height:0,width:0}},computed:f({},Object(d.b)({getValue:"GET_VALUE_FROM_LOCALSTORAGE"})),created:function(){this.setLoaderProps({id:"camera",propID:"hidden",value:!0})},methods:f(f({},Object(d.c)({setLoaderProps:"SET_LOADER_PROPS",setValue:"SET_VALUE_TO_LOCALSTORAGE",isParticipant:"SET_PARTICIPANT_VALUE"})),{},{sendDescriptors:function(){var e=this,t={Id:e.getValue("uuid"),Descriptor:JSON.stringify(e.descriptors[0])};e.$axios.post("/contribute",t,{withCredentials:!1}).then((function(t){if(202===t.status)return!1===e.sending&&(e.timeLeft=t.data.secondsLeft),e.sending=!0,setTimeout(e.sendDescriptors,5e3);try{e.setValue({id:"imgURI",payload:t.data.spectrogramUri}),e.setValue({id:"voiceURI",payload:t.data.voiceUri}),e.isParticipant(!0),e.setValue({id:"participant",payload:!0}),e.stream.getTracks().forEach((function(track){"live"===track.readyState&&track.stop()}))}catch(t){console.log(t),e.setLoaderProps({id:"camera",propID:"status",value:"error"}),e.setLoaderProps({id:"camera",propID:"message",value:"System error. Check console"}),e.setLoaderProps({id:"camera",propID:"hidden",value:!1})}})).catch((function(t){console.log(t),e.setLoaderProps({id:"camera",propID:"status",value:"error"}),e.setLoaderProps({id:"camera",propID:"message",value:"System error. Check console"}),e.setLoaderProps({id:"camera",propID:"hidden",value:!1})}))},turnOnCamera:function(){var e=this,t=e.$refs.cameraWrapper.getBoundingClientRect().top+window.scrollY;return window.scroll({top:t,left:0,behavior:"smooth"}),new Promise((function(t,r){try{e.setLoaderProps({id:"camera",propID:"status",value:"loading"}),e.setLoaderProps({id:"camera",propID:"message",value:""}),e.setLoaderProps({id:"camera",propID:"hidden",value:!1}),navigator.mediaDevices.getUserMedia({audio:!1,video:{width:{ideal:1280},height:{ideal:720}}}).then((function(r){return e.stream=r,e.setLoaderProps({id:"camera",propID:"message",value:""}),e.cameraStatus=!0,e.startFaceAPI().then((function(){e.video=document.createElement("video");try{e.video.srcObject=r}catch(t){e.video.src=URL.createObjectURL(r)}e.video.setAttribute("autoplay","1"),e.video.setAttribute("muted","1"),e.video.setAttribute("playsinline","1"),e.video.setAttribute("webkit-playsinline","1"),e.$refs.canvasWrapper.appendChild(e.video),e.video.addEventListener("canplay",(function(){e.width=e.$refs.cameraVideo.offsetWidth,e.height=e.video.videoHeight/(e.video.videoWidth/e.width),e.$refs.cameraWrapper.setAttribute("style","height: ".concat(e.height-2,"px;")),e.video.setAttribute("style","opacity: 0; position: absolute; top: 0;left:0;"),e.setLoaderProps({id:"camera",propID:"hidden",value:!0}),e.video.setAttribute("width",e.width),e.video.setAttribute("height",e.height),e.play()}))})).catch((function(t){e.setLoaderProps({id:"camera",propID:"status",value:"error"}),e.setLoaderProps({id:"camera",propID:"message",value:t.message||"Check console for logs"}),console.log(t)})),t("OK")})).catch((function(t){return e.setLoaderProps({id:"camera",propID:"status",value:"error"}),e.setLoaderProps({id:"camera",propID:"message",value:t.message}),e.setLoaderProps({id:"camera",propID:"hidden",value:!1}),r(new Error("Error: ".concat(t.message)))}))}catch(t){return e.setLoaderProps({id:"camera",propID:"status",value:"error"}),e.setLoaderProps({id:"camera",propID:"message",value:"You are not able to use interactive mode"}),e.setLoaderProps({id:"camera",propID:"hidden",value:!1}),r(new Error("You are not able to use interactive mode"))}}))},startFaceAPI:function(){return Promise.all([c.f.tinyFaceDetector.loadFromUri("./models"),c.f.faceLandmark68Net.loadFromUri("./models"),c.f.faceRecognitionNet.loadFromUri("./models"),c.f.faceExpressionNet.loadFromUri("./models")])},play:function(e){var t=this,canvas=c.b(t.video),r={width:t.video.width,height:t.video.height};this.$refs.canvasWrapper.append(canvas),c.e(canvas,r);var n=t.$refs.canvas.getContext("2d");n.canvas.width=t.video.width,n.canvas.height=t.video.height;var d=t.video.height<207?128:320;t.currentInterval=setInterval(Object(o.a)(regeneratorRuntime.mark((function e(){var o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.clearRect(0,0,t.video.width,t.video.height),n.drawImage(t.video,0,0,t.video.width,t.video.height),e.next=5,c.c(t.video,new c.a({inputSize:d})).withFaceLandmarks().withFaceDescriptor();case 5:if(!(o=e.sent)){e.next=17;break}if(!(t.descriptors.length<3)){e.next=12;break}t.dates.length||t.dates.push(Date.now()),Date.now()-t.dates[t.dates.length-1]>500&&t.descriptors.push(o.descriptor),e.next=14;break;case 12:return t.sendDescriptors(),e.abrupt("return",clearInterval(t.currentInterval));case 14:l=c.g(o,r),canvas.getContext("2d").clearRect(0,0,t.video.width,t.video.height),c.d.drawFaceLandmarks(canvas,l);case 17:e.next=26;break;case 19:return e.prev=19,e.t0=e.catch(0),console.log(e.t0),t.setLoaderProps({id:"camera",propID:"status",value:"error"}),t.setLoaderProps({id:"camera",propID:"message",value:"System error. Check console"}),t.setLoaderProps({id:"camera",propID:"hidden",value:!1}),e.abrupt("return",clearInterval(t.currentInterval));case 26:case"end":return e.stop()}}),e,null,[[0,19]])}))),250)}})},h=(r(217),r(33)),component=Object(h.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"cameraWrapper",staticClass:"camera__wrapper"},[e.cameraStatus?r("div",{ref:"cameraVideo",staticClass:"camera__video"},[r("canvas",{ref:"canvas",staticClass:"camera__canvas"}),e._v(" "),r("div",{ref:"canvasWrapper",staticClass:"camera__canvas"})]):r("div",{staticClass:"camera__button",on:{click:e.turnOnCamera}},[r("svg-icon",{staticStyle:{height:"40px",width:"40px"},attrs:{name:"camera"}})],1),e._v(" "),e.timeLeft?r("span",{attrs:{id:"timeLeft"}},[e._v("synthesizing imaginary voice, time left:\n    "+e._s(Math.floor(e.timeLeft/60)?Math.floor(e.timeLeft/60)+" min":e.timeLeft+" sec"))]):e._e(),e._v(" "),r("loader",{attrs:{id:"camera"}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Loader:r(204).default})},227:function(e,t){},228:function(e,t){},229:function(e,t){},262:function(e,t,r){"use strict";var o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t.a=function(e){return"string"==typeof e&&o.test(e)}},267:function(e,t,r){"use strict";var o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),n=new Uint8Array(16);function c(){if(!o)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(n)}for(var d=r(262),l=[],f=0;f<256;++f)l.push((f+256).toString(16).substr(1));var m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!Object(d.a)(r))throw TypeError("Stringified UUID is invalid");return r};t.a=function(e,t,r){var o=(e=e||{}).random||(e.rng||c)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=o[i];return t}return m(o)}}}]);